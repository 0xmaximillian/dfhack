<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.8: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7056 2011-06-17 10:50:48Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<div class="section" id="introduction">
<h1><a class="toc-backref" href="#id5">Introduction</a></h1>
<p>DFHack is a Dwarf Fortress memory access library and a set of basic
tools that use it. Tools come in the form of plugins or (not yet)
external tools. It is an attempt to unite the various ways tools
access DF memory and allow for easier development of new tools.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id5">Introduction</a></li>
<li><a class="reference internal" href="#getting-dfhack" id="id6">Getting DFHack</a></li>
<li><a class="reference internal" href="#compatibility" id="id7">Compatibility</a></li>
<li><a class="reference internal" href="#installation-removal" id="id8">Installation/Removal</a></li>
<li><a class="reference internal" href="#using-dfhack" id="id9">Using DFHack</a></li>
<li><a class="reference internal" href="#commands" id="id10">Commands</a><ul>
<li><a class="reference internal" href="#autodump" id="id11">autodump</a><ul>
<li><a class="reference internal" href="#options" id="id12">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cleanmap" id="id13">cleanmap</a></li>
<li><a class="reference internal" href="#cleanowned" id="id14">cleanowned</a><ul>
<li><a class="reference internal" href="#id1" id="id15">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#colonies" id="id16">colonies</a><ul>
<li><a class="reference internal" href="#id2" id="id17">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deramp-by-zilpin" id="id18">deramp (by zilpin)</a></li>
<li><a class="reference internal" href="#flows" id="id19">flows</a></li>
<li><a class="reference internal" href="#grow" id="id20">grow</a></li>
<li><a class="reference internal" href="#extirpate" id="id21">extirpate</a><ul>
<li><a class="reference internal" href="#id3" id="id22">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#immolate" id="id23">immolate</a></li>
<li><a class="reference internal" href="#liquids" id="id24">liquids</a></li>
<li><a class="reference internal" href="#mode" id="id25">mode</a></li>
<li><a class="reference internal" href="#forcepause" id="id26">forcepause</a></li>
<li><a class="reference internal" href="#die" id="id27">die</a></li>
<li><a class="reference internal" href="#probe" id="id28">probe</a></li>
<li><a class="reference internal" href="#prospector" id="id29">prospector</a><ul>
<li><a class="reference internal" href="#id4" id="id30">Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reveal" id="id31">reveal</a></li>
<li><a class="reference internal" href="#unreveal" id="id32">unreveal</a></li>
<li><a class="reference internal" href="#revtoggle" id="id33">revtoggle</a></li>
<li><a class="reference internal" href="#revflood" id="id34">revflood</a></li>
<li><a class="reference internal" href="#tubefill" id="id35">tubefill</a></li>
<li><a class="reference internal" href="#vdig" id="id36">vdig</a></li>
<li><a class="reference internal" href="#weather" id="id37">weather</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="getting-dfhack">
<h1><a class="toc-backref" href="#id6">Getting DFHack</a></h1>
<p>The project is currently hosted on <a class="reference external" href="http://www.github.com/">github</a>, for both source and
binaries at  <a class="reference external" href="http://github.com/peterix/dfhack">http://github.com/peterix/dfhack</a></p>
<p>Releases can be downloaded from here: <a class="reference external" href="https://github.com/peterix/dfhack/downloads">https://github.com/peterix/dfhack/downloads</a></p>
</div>
<div class="section" id="compatibility">
<h1><a class="toc-backref" href="#id7">Compatibility</a></h1>
<p>DFHack works on Windows XP, Vista, 7 or any modern Linux distribution.
OSX is not supported due to lack of developers with a Mac.</p>
<p>Currently, only the 31.25 version is supported. If you need DFHack
for older versions, look for older releases.</p>
<p>On Windows, you have to use the SDL version of DF.</p>
<p>It is possible to use the Windows DFHack under wine/OSX.</p>
</div>
<div class="section" id="installation-removal">
<h1><a class="toc-backref" href="#id8">Installation/Removal</a></h1>
<p>Installing DFhack involves copying files into your DF folder.
Copy the files from a release archive so that:</p>
<blockquote>
<ul class="simple">
<li>On Windows, SDL.dll is replaced</li>
<li>On Linux, the 'dfhack' script is placed in the same folder as the 'df' script</li>
</ul>
</blockquote>
<p>Uninstalling is basically the same, in reverse:</p>
<blockquote>
<ul class="simple">
<li>On Windows, first delete SDL.dll and rename SDLreal.dll to SDL.dll. Then remove the other DFHack files</li>
<li>On Linux, Remove the DFHack files.</li>
</ul>
</blockquote>
</div>
<div class="section" id="using-dfhack">
<h1><a class="toc-backref" href="#id9">Using DFHack</a></h1>
<p>DFHack basically extends what DF can do with something similar to a quake console. On Windows, this is a separate command line window. On linux, the terminal used to launch the dfhack script is taken over (so, make sure you start from a terminal).
Basic interaction with dfhack involves entering commands into the console. For some basic instroduction, use the 'help' command. To list all possible commands, use the 'ls' command.
Many commands have their own help or detailed description. You can use 'command help' or 'command ?' to show that.</p>
<p>The second way to interact with DFHack is to bind the available commands to in-game hotkeys. This is done in the hotkey/zoom menu (normally opened with the 'h' key). Binding the commands is done by assigning a command as a hotkey name (with 'n').
Some commands can't be used from hotkeys - this includes interactive commands like 'liquids' and commands that have names longer than 9 characters.</p>
<p>Most of the commands come from plugins (those reside in DF/plugins/).</p>
</div>
<div class="section" id="commands">
<h1><a class="toc-backref" href="#id10">Commands</a></h1>
<div class="section" id="autodump">
<h2><a class="toc-backref" href="#id11">autodump</a></h2>
<p>Automated item dumping tool. All loose items on the floor marked
for dumping are insta-dumped to the position of the in-game cursor.</p>
<p>Cursor must be placed on a floor tile. Instadumped items may not
show up in the cursor description list until you save/reload.</p>
<div class="section" id="options">
<h3><a class="toc-backref" href="#id12">Options</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">destroy:</th><td class="field-body">Destroy instead of dumping. Doesn't require a cursor.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="cleanmap">
<h2><a class="toc-backref" href="#id13">cleanmap</a></h2>
<p>Cleans all the splatter that get scattered all over the map.
By default, it leaves mud and snow alone.</p>
</div>
<div class="section" id="cleanowned">
<h2><a class="toc-backref" href="#id14">cleanowned</a></h2>
<p>Confiscates items owned by dwarfs.
By default, owned food on the floor and rotten items are confistacted and dumped.</p>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id15">Options</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">all:</th><td class="field-body">confiscate all owned items</td>
</tr>
<tr class="field"><th class="field-name">scattered:</th><td class="field-body">confiscated and dump all items scattered on the floor</td>
</tr>
<tr class="field"><th class="field-name">x:</th><td class="field-body">confiscate/dump items with wear level 'x' and more</td>
</tr>
<tr class="field"><th class="field-name">X:</th><td class="field-body">confiscate/dump items with wear level 'X' and more</td>
</tr>
<tr class="field"><th class="field-name">dryrun:</th><td class="field-body">a dry run. combine with other options to see what will happen without it actually happening.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="colonies">
<h2><a class="toc-backref" href="#id16">colonies</a></h2>
<p>Allows listing all the vermin colonies on the map and optionally turning them into honey bee colonies.</p>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id17">Options</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">bees:</th><td class="field-body">turn colonies into honey bee colonies</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="deramp-by-zilpin">
<h2><a class="toc-backref" href="#id18">deramp (by zilpin)</a></h2>
<p>Removes all ramps designated for removal from the map. This is useful for replicating the old channel digging designation.
It also removes any and all 'down ramps' that can remain after a cave-in (you don't have to designate anything for that to happen).</p>
</div>
<div class="section" id="flows">
<h2><a class="toc-backref" href="#id19">flows</a></h2>
<p>A tool for checking how many tiles contain flowing liquids. If you suspect that your magma sea leaks into HFS, you can use this tool to be sure without revealing the map.</p>
</div>
<div class="section" id="grow">
<h2><a class="toc-backref" href="#id20">grow</a></h2>
<p>Makes all saplings present on the map grow into trees (almost) instantly.</p>
</div>
<div class="section" id="extirpate">
<h2><a class="toc-backref" href="#id21">extirpate</a></h2>
<p>A tool for getting rid of trees and shrubs. By default, it only kills a tree/shrub under the cursor.
The plants are turned into ashes instantly.</p>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id22">Options</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">shrubs:</th><td class="field-body">affect all shrubs on the map</td>
</tr>
<tr class="field"><th class="field-name">trees:</th><td class="field-body">affect all trees on the map</td>
</tr>
<tr class="field"><th class="field-name">all:</th><td class="field-body">affect every plant!</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="immolate">
<h2><a class="toc-backref" href="#id23">immolate</a></h2>
<p>Very similar to extirpate, but additionally sets the plants on fire. The fires can and <em>will</em> spread ;)</p>
</div>
<div class="section" id="liquids">
<h2><a class="toc-backref" href="#id24">liquids</a></h2>
<p>Allows adding magma, water and obsidian to the game. It replaces the normal dfhack command line and can't be used from a hotkey.
For more information, refer to the command's internal help.</p>
<div class="note">
<p class="first admonition-title">Note</p>
<p class="last">Spawning and deleting liquids can F up pathing data and
temperatures (creating heat traps). You've been warned.</p>
</div>
</div>
<div class="section" id="mode">
<h2><a class="toc-backref" href="#id25">mode</a></h2>
<p>This command lets you see and change the game mode directly. Not all combinations are good for every situation and most of them will produce undesirable results.
There are a few good ones though.</p>
<div class="admonition-example admonition">
<p class="first admonition-title">Example</p>
<p class="last">You are in fort game mode, managing your fortress and paused.
You switch to the arena game mode, <em>assume control of a creature</em> and then switch to adventure game mode(1).
You just lost a fortress and gained an adventurer.</p>
</div>
<p>I take no responsibility of anything that happens as a result of using this tool :P</p>
</div>
<div class="section" id="forcepause">
<h2><a class="toc-backref" href="#id26">forcepause</a></h2>
<p>Forces DF to pause. This is useful when your FPS drops below 1 and you lose control of the game.</p>
</div>
<div class="section" id="die">
<h2><a class="toc-backref" href="#id27">die</a></h2>
<p>Instantly kills DF without saving.</p>
</div>
<div class="section" id="probe">
<h2><a class="toc-backref" href="#id28">probe</a></h2>
<p>Can be used to determine tile properties like temperature.</p>
</div>
<div class="section" id="prospector">
<h2><a class="toc-backref" href="#id29">prospector</a></h2>
<p>Lists all available minerals on the map and how much of them there is. By default, only processes the already discovered part of the map.</p>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id30">Options</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">all:</th><td class="field-body">processes all tiles, even hidden ones.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="reveal">
<h2><a class="toc-backref" href="#id31">reveal</a></h2>
<p>This reveals the map. By default, HFS will remain hidden so that the demons don't spawn. You can use 'reveal hell' to reveal everything. With hell revealed, you won't be able to unpause until you hide the map again.</p>
</div>
<div class="section" id="unreveal">
<h2><a class="toc-backref" href="#id32">unreveal</a></h2>
<p>Reverts the effects of 'reveal'.</p>
</div>
<div class="section" id="revtoggle">
<h2><a class="toc-backref" href="#id33">revtoggle</a></h2>
<p>Switches between 'reveal' and 'unreveal'.</p>
</div>
<div class="section" id="revflood">
<h2><a class="toc-backref" href="#id34">revflood</a></h2>
<p>This command will hide the whole map and then reveal all the tiles that have a path to the in-game cursor.</p>
</div>
<div class="section" id="tubefill">
<h2><a class="toc-backref" href="#id35">tubefill</a></h2>
<p>Fills all the adamantine veins again. Veins that were empty will be filled in too, but might still trigger a demon invasion (this is a known bug).</p>
</div>
<div class="section" id="vdig">
<h2><a class="toc-backref" href="#id36">vdig</a></h2>
<p>Designates a whole vein for digging. Requires an active in-game cursor placed over a vein tile. With the 'x' option, it will traverse z-levels (putting stairs between the same-material tiles).</p>
</div>
<div class="section" id="weather">
<h2><a class="toc-backref" href="#id37">weather</a></h2>
<p>Lets you change the current weather to 'clear sky', 'rainy' or 'snowing'.
Fill those ponds without mucking around with dfliquids :D Rain can also stop brush fires.</p>
</div>
</div>
</div>
</body>
</html>
